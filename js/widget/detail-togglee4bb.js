jQuery(function($){JBZoo.widget('HyperPC.DetailToggle',{},{detailBtnToggledText:'',detailBtnToggledIcon:'',init:function($this){$this.detailBtnToggledText=$this.el.attr('toggled-text')||'';$this.detailBtnToggledIcon=$this.el.attr('toggled-icon')||'';if($this.el.hasClass('jsShowLess')){$this.el.data('props',{initState:'expanded',more:$this.detailBtnToggledText.trim()||'Узнать больше',icon:$this.detailBtnToggledIcon.trim()||null,less:$this.el.html()});}else{$this.el.data('props',{initState:'collapsed',more:$this.el.html(),icon:$this.detailBtnToggledIcon.trim()||null,less:$this.detailBtnToggledText.trim()||'Скрыть подробности'});}},'click {element}':function(e,$this){var props=$this.el.data('props');if($this.el.hasClass('jsShowMore')||!$this.el.hasClass('jsShowLess')){$this.el.html(props.less).removeClass('jsShowMore').addClass('jsShowLess').blur();if(props.icon&&props.initState==='collapsed'){$this.el.prepend('<span uk-icon="'+props.icon+'"></span>').find('> span:first-child');}}else{$this.el.html(props.more).removeClass('jsShowLess').addClass('jsShowMore').blur();if(props.icon&&props.initState==='expanded'){$this.el.prepend('<span uk-icon="'+props.icon+'"></span>').find('> span:first-child');}}},});});